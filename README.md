# Telegram отчетный бот (aiogram 3)

Бот отслеживает, кто отправил отчет в тему (topic) "Отчеты" и в момент дедлайна присылает список отчитавшихся и неотчитавшихся.

## Возможности

- фиксирует сообщения в нужной теме (topic) группы;
- хранит отчеты по дням в SQLite;
- в дедлайн публикует список отчитавшихся/неотчитавшихся;
- команда `/reportstatus` показывает текущий статус по дню.

## Быстрый старт

1. Установите зависимости:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

2. Создайте файл `.env` рядом с `main.py`:

```env
BOT_TOKEN=123456:ABCDEF
CHAT_ID=-1001234567890
REPORT_THREAD_ID=12345
DEADLINE_TIME=18:00
TIMEZONE=Europe/Moscow
REQUIRED_USER_IDS=11111111,22222222,33333333
```

- `CHAT_ID` — ID группы.
- `REPORT_THREAD_ID` — ID темы (topic), где пишутся отчеты.
- `REQUIRED_USER_IDS` — список участников, которые обязаны сдавать отчет (ID через запятую).

3. Запуск:

```bash
python main.py
```

## Как узнать ID темы

Включите режим администратора в боте @RawDataBot или @getidsbot и отправьте сообщение в нужную тему — в ответе будет `message_thread_id`.

## Важно

Telegram не дает боту полный список участников группы, поэтому список обязанных пользователей задается через `REQUIRED_USER_IDS`.
